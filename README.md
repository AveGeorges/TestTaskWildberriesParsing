# WB Parser

Парсер каталога Wildberries по поисковому запросу.

## Что делает

- Ищет товары по запросу
- Собирает данные: артикул, название, цена, описание, характеристики, продавец, размеры, остатки, рейтинг
- Сохраняет в Excel
- Фильтрует по рейтингу, цене и стране

## Установка

```bash
python -m venv .venv
.venv\Scripts\activate
pip install -r req.txt

playwright install chromium
```

## Использование

```bash
# Базовый пример: 10 страниц, запрос "пальто из натуральной шерсти"
python -m src.main -q "пальто из натуральной шерсти" -p 10

# Показать окно браузера
python -m src.main -q "пальто" -p 5 --show-browser

# Без обогащения данных (только поиск)
python -m src.main -q "пальто" -p 3 --no-enrich
```

## Параметры

| Флаг | Описание |
|------|----------|
| `-q` | Поисковый запрос |
| `-p` | Кол-во страниц |
| `-o` | Папка вывода (default: output) |
| `--show-browser` | Показать окно браузера |
| `--no-enrich` | Без описаний/характеристик |
| `--no-cache` | Без кэша |
| `--clear-cache` | Очистить кэш |
| `--min-rating` | Мин. рейтинг для фильтра (4.5) |
| `--max-price` | Макс. цена (10000) |
| `--country` | Страна (Россия) |

## Результат

- `catalog_full_*.xlsx` — все товары
- `catalog_filtered_*.xlsx` — отфильтрованные (рейтинг >= 4.5, цена <= 10000, Россия)

## Структура

```
src/
├── main.py         — точка входа, CLI
├── wb_browser.py   — парсер через Playwright  
├── excel_writer.py — экспорт в xlsx
├── models.py       — модель Product
├── config.py       — настройки
└── cache.py        — файловый кэш
```
